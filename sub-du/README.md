# sub-du

A du-like tool to scrap a chain's storage at a given block. This works with metadata, so it shoudl
work for any substrate-based chain.

Example output from Polkadot CC1 in early July 2020:

```
2  M ├─┬ Staking
841K │ │── ErasStakersClipped => Value(861,517 bytes, 3615 keys)
841K │ │── ErasStakers => Value(861,517 bytes, 3615 keys)
252K │ │── Nominators => Value(258,168 bytes, 756 keys)
127K │ │── ErasRewardPoints => Value(130,310 bytes, 37 keys)
110K │ │── Ledger => Value(113,041 bytes, 1146 keys)
35 K │ │── Bonded => Value(36,672 bytes, 1146 keys)
13 K │ │── ErasValidatorPrefs => Value(13,752 bytes, 3615 keys)
1  K │ │── Validators => Value(1,274 bytes, 350 keys)
1  K │ │── Payee => Value(1,146 bytes, 1146 keys)
576B │ │── ErasTotalStake => Value(576 bytes, 36 keys)
576B │ │── ErasValidatorReward => Value(576 bytes, 36 keys)
293B │ │── SlashingSpans => Value(293 bytes, 17 keys)
233B │ │── BondedEras => Value(233 bytes)
148B │ │── ErasStartSessionIndex => Value(148 bytes, 37 keys)
16 B │ │── CanceledSlashPayout => Value(16 bytes)
13 B │ │── ActiveEra => Value(13 bytes)
4  B │ │── EarliestUnappliedSlash => Value(4 bytes)
4  B │ │── SlashRewardFraction => Value(4 bytes)
4  B │ │── CurrentEra => Value(4 bytes)
4  B │ │── MinimumValidatorCount => Value(4 bytes)
4  B │ │── ValidatorCount => Value(4 bytes)
4  B │ │── HistoryDepth => Value(4 bytes)
1  B │ │── StorageVersion => Value(1 bytes)
1  B │ │── IsCurrentSessionFinal => Value(1 bytes)
1  B │ │── EraElectionStatus => Value(1 bytes)
1  B │ │── Invulnerables => Value(1 bytes)
0  B │ │── QueuedScore => Value(0 bytes)
0  B │ │── QueuedElected => Value(0 bytes)
0  B │ │── SnapshotNominators => Value(0 bytes)
0  B │ │── SnapshotValidators => Value(0 bytes)
0  B │ │── SpanSlash => Value(0 bytes, 0 keys)
0  B │ │── NominatorSlashInEra => Value(0 bytes, 0 keys)
0  B │ │── ValidatorSlashInEra => Value(0 bytes, 0 keys)
0  B │ │── UnappliedSlashes => Value(0 bytes, 0 keys)
0  B │ │── ForceEra => Value(0 bytes)
221K ├─┬ System
146K │ │── Account => Value(149,799 bytes, 2171 keys)
75 K │ │── BlockHash => Value(76,832 bytes, 2401 keys)
37 B │ │── Events => Value(37 bytes)
16 B │ │── BlockWeight => Value(16 bytes)
10 B │ │── LastRuntimeUpgrade => Value(10 bytes)
4  B │ │── EventCount => Value(4 bytes)
0  B │ │── ExecutionPhase => Value(0 bytes)
0  B │ │── EventTopics => Value(0 bytes, 0 keys)
0  B │ │── Digest => Value(0 bytes)
0  B │ │── ExtrinsicsRoot => Value(0 bytes)
0  B │ │── ParentHash => Value(0 bytes)
0  B │ │── Number => Value(0 bytes)
0  B │ │── ExtrinsicData => Value(0 bytes, 0 keys)
0  B │ │── AllExtrinsicsLen => Value(0 bytes)
0  B │ │── ExtrinsicCount => Value(0 bytes)
161K ├─┬ Session
59 K │ │── KeyOwner => Value(60,800 bytes, 1900 keys)
59 K │ │── NextKeys => Value(60,800 bytes, 380 keys)
36 K │ │── QueuedKeys => Value(37,826 bytes)
6  K │ │── Validators => Value(6,306 bytes)
4  B │ │── CurrentIndex => Value(4 bytes)
1  B │ │── QueuedChanged => Value(1 bytes)
0  B │ │── DisabledValidators => Value(0 bytes)
78 K ├─┬ Indices
78 K │ │── Accounts => Value(80,164 bytes, 1636 keys)
58 K ├─┬ Claims
38 K │ │── Claims => Value(39,024 bytes, 2439 keys)
13 K │ │── Preclaims => Value(13,840 bytes, 692 keys)
4  K │ │── Vesting => Value(4,752 bytes, 132 keys)
2  K │ │── Signing => Value(2,461 bytes, 2461 keys)
16 B │ │── Total => Value(16 bytes)
34 K ├─┬ Balances
34 K │ │── Locks => Value(35,764 bytes, 1214 keys)
16 B │ │── TotalIssuance => Value(16 bytes)
1  B │ │── StorageVersion => Value(1 bytes)
0  B │ │── Account => Value(0 bytes, 0 keys)
24 K ├─┬ Babe
16 K │ │── UnderConstruction => Value(16,838 bytes, 3 keys)
7  K │ │── Authorities => Value(7,882 bytes)
32 B │ │── NextRandomness => Value(32 bytes)
32 B │ │── Randomness => Value(32 bytes)
8  B │ │── CurrentSlot => Value(8 bytes)
8  B │ │── GenesisSlot => Value(8 bytes)
8  B │ │── EpochIndex => Value(8 bytes)
4  B │ │── SegmentIndex => Value(4 bytes)
0  B │ │── Lateness => Value(0 bytes)
0  B │ │── Initialized => Value(0 bytes)
0  B │ │── NextEpochConfig => Value(0 bytes)
16 K ├─┬ Identity
6  K │ │── IdentityOf => Value(6,910 bytes, 66 keys)
5  K │ │── SuperOf => Value(5,216 bytes, 137 keys)
4  K │ │── SubsOf => Value(4,843 bytes, 27 keys)
115B │ │── Registrars => Value(115 bytes)
8  K ├─┬ Vesting
8  K │ │── Vesting => Value(8,496 bytes, 236 keys)
7  K ├─┬ ImOnline
6  K │ │── Keys => Value(6,306 bytes)
784B │ │── AuthoredBlocks => Value(784 bytes, 196 keys)
198B │ │── ReceivedHeartbeats => Value(198 bytes, 2 keys)
4  B │ │── HeartbeatAfter => Value(4 bytes)
6  K ├─┬ Offences
4  K │ │── Reports => Value(4,494 bytes, 32 keys)
1  K │ │── ReportsByKindIndex => Value(1,155 bytes, 1 keys)
1  K │ │── ConcurrentReportsIndex => Value(1,043 bytes, 19 keys)
1  B │ │── DeferredOffences => Value(1 bytes)
6  K ├─┬ Parachains
6  K │ │── Authorities => Value(6,306 bytes)
1  B │ │── DidUpdate => Value(1 bytes)
1  B │ │── PastCodePruning => Value(1 bytes)
0  B │ │── DownwardMessageQueue => Value(0 bytes, 0 keys)
0  B │ │── NeedsDispatch => Value(0 bytes)
0  B │ │── RelayDispatchQueueSize => Value(0 bytes, 0 keys)
0  B │ │── RelayDispatchQueue => Value(0 bytes, 0 keys)
0  B │ │── Heads => Value(0 bytes, 0 keys)
0  B │ │── FutureCode => Value(0 bytes, 0 keys)
0  B │ │── FutureCodeUpgrades => Value(0 bytes, 0 keys)
0  B │ │── PastCode => Value(0 bytes, 0 keys)
0  B │ │── PastCodeMeta => Value(0 bytes, 0 keys)
0  B │ │── Code => Value(0 bytes, 0 keys)
2  K ├─┬ RandomnessCollectiveFlip
2  K │ │── RandomMaterial => Value(2,594 bytes)
2  K ├─┬ Proxy
2  K │ │── Proxies => Value(2,133 bytes, 42 keys)
817B ├─┬ FinalityTracker
406B │ │── OrderedHints => Value(406 bytes)
406B │ │── RecentHints => Value(406 bytes)
4  B │ │── Median => Value(4 bytes)
1  B │ │── Initialized => Value(1 bytes)
0  B │ │── Update => Value(0 bytes)
280B ├─┬ Grandpa
272B │ │── SetIdSession => Value(272 bytes, 68 keys)
8  B │ │── CurrentSetId => Value(8 bytes)
0  B │ │── Stalled => Value(0 bytes)
0  B │ │── NextForced => Value(0 bytes)
0  B │ │── PendingChange => Value(0 bytes)
0  B │ │── State => Value(0 bytes)
97 B ├─┬ TechnicalCommittee
97 B │ │── Members => Value(97 bytes)
0  B │ │── Prime => Value(0 bytes)
0  B │ │── ProposalCount => Value(0 bytes)
0  B │ │── Voting => Value(0 bytes, 0 keys)
0  B │ │── ProposalOf => Value(0 bytes, 0 keys)
0  B │ │── Proposals => Value(0 bytes)
89 B ├─┬ Multisig
89 B │ │── Multisigs => Value(89 bytes, 1 keys)
0  B │ │── Calls => Value(0 bytes, 0 keys)
32 B ├─┬ Sudo
32 B │ │── Key => Value(32 bytes)
17 B ├─┬ TransactionPayment
16 B │ │── NextFeeMultiplier => Value(16 bytes)
1  B │ │── StorageVersion => Value(1 bytes)
13 B ├─┬ Democracy
4  B │ │── LowestUnbaked => Value(4 bytes)
4  B │ │── ReferendumCount => Value(4 bytes)
4  B │ │── PublicPropCount => Value(4 bytes)
1  B │ │── StorageVersion => Value(1 bytes)
0  B │ │── Cancellations => Value(0 bytes, 0 keys)
0  B │ │── Blacklist => Value(0 bytes, 0 keys)
0  B │ │── NextExternal => Value(0 bytes)
0  B │ │── LastTabledWasExternal => Value(0 bytes)
0  B │ │── Locks => Value(0 bytes, 0 keys)
0  B │ │── VotingOf => Value(0 bytes, 0 keys)
0  B │ │── ReferendumInfoOf => Value(0 bytes, 0 keys)
0  B │ │── Preimages => Value(0 bytes, 0 keys)
0  B │ │── DepositOf => Value(0 bytes, 0 keys)
0  B │ │── PublicProps => Value(0 bytes)
8  B ├─┬ Timestamp
8  B │ │── Now => Value(8 bytes)
0  B │ │── DidUpdate => Value(0 bytes)
6  B ├─┬ Registrar
3  B │ │── SelectedThreads => Value(3 bytes)
1  B │ │── RetryQueue => Value(1 bytes)
1  B │ │── Active => Value(1 bytes)
1  B │ │── Parachains => Value(1 bytes)
0  B │ │── Debtors => Value(0 bytes, 0 keys)
0  B │ │── Paras => Value(0 bytes, 0 keys)
0  B │ │── PendingSwap => Value(0 bytes, 0 keys)
0  B │ │── NextFreeId => Value(0 bytes)
0  B │ │── ThreadCount => Value(0 bytes)
6  B ├─┬ ElectionsPhragmen
4  B │ │── ElectionRounds => Value(4 bytes)
1  B │ │── RunnersUp => Value(1 bytes)
1  B │ │── Members => Value(1 bytes)
0  B │ │── Candidates => Value(0 bytes)
0  B │ │── Voting => Value(0 bytes, 0 keys)
2  B ├─┬ Scheduler
2  B │ │── Agenda => Value(2 bytes, 1 keys)
0  B │ │── Lookup => Value(0 bytes, 0 keys)
1  B ├─┬ Slots
1  B │ │── ManagedIds => Value(1 bytes)
0  B │ │── Offboarding => Value(0 bytes, 0 keys)
0  B │ │── Onboarding => Value(0 bytes, 0 keys)
0  B │ │── OnboardQueue => Value(0 bytes, 0 keys)
0  B │ │── ReservedAmounts => Value(0 bytes, 0 keys)
0  B │ │── Winning => Value(0 bytes, 0 keys)
0  B │ │── AuctionInfo => Value(0 bytes)
0  B │ │── Deposits => Value(0 bytes, 0 keys)
0  B │ │── AuctionCounter => Value(0 bytes)
1  B ├─┬ Treasury
1  B │ │── Approvals => Value(1 bytes)
0  B │ │── Reasons => Value(0 bytes, 0 keys)
0  B │ │── Tips => Value(0 bytes, 0 keys)
0  B │ │── Proposals => Value(0 bytes, 0 keys)
0  B │ │── ProposalCount => Value(0 bytes)
1  B ├─┬ TechnicalMembership
1  B │ │── Members => Value(1 bytes)
0  B │ │── Prime => Value(0 bytes)
1  B ├─┬ Council
1  B │ │── Members => Value(1 bytes)
0  B │ │── Prime => Value(0 bytes)
0  B │ │── ProposalCount => Value(0 bytes)
0  B │ │── Voting => Value(0 bytes, 0 keys)
0  B │ │── ProposalOf => Value(0 bytes, 0 keys)
0  B │ │── Proposals => Value(0 bytes)
1  B ├─┬ Authorship
1  B │ │── Uncles => Value(1 bytes)
0  B │ │── DidSetUncles => Value(0 bytes)
0  B │ │── Author => Value(0 bytes)
0  B ├─┬ Attestations
0  B │ │── DidUpdate => Value(0 bytes)
0  B │ │── ParaBlockAttestations => Value(0 bytes, 0 keys)
0  B │ │── RecentParaBlocks => Value(0 bytes, 0 keys)
```
